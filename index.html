<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90å¿ƒç†æµ‹è¯• - soultest.top</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .ios-blue { color: #007AFF; }
        .ios-blue-bg { background-color: #007AFF; }
        .ios-blue-border { border-color: #007AFF; }
        .light-gray { background-color: #F5F5F7; }
        .medium-gray { background-color: #E5E5EA; }
        .dark-gray { color: #8E8E93; }
        
        /* é«˜çº§è®¾è®¡æ ·å¼ */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .premium-shadow {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1), 0 10px 20px rgba(0, 0, 0, 0.05);
        }
        
        .text-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .floating-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pulse-glow {
            from { box-shadow: 0 0 20px rgba(102, 126, 234, 0.4); }
            to { box-shadow: 0 0 30px rgba(102, 126, 234, 0.8); }
        }
        
        .card-shadow {
            box-shadow: 0 10px 50px rgba(0,0,0,0.1);
        }
        
        .option-card {
            transition: all 0.2s ease;
        }
        
        .option-card:hover {
            transform: scale(1.02);
        }
        
        .option-card.selected {
            background-color: #007AFF;
            color: white;
            border-color: #007AFF;
            transform: scale(1.02);
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        .fade-out {
            animation: fadeOut 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-20px); }
        }
        
        .progress-bar {
            transition: width 0.5s ease;
        }
        
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .modal-enter {
            animation: modalEnter 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        @keyframes modalEnter {
            from { 
                opacity: 0; 
                transform: scale(0.9) translateY(-20px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }
    </style>
</head>
<body class="bg-white min-h-screen">
    <!-- é¦–é¡µ -->
    <div id="homePage" class="min-h-screen gradient-bg flex flex-col items-center justify-center px-4 fade-in relative overflow-hidden">
        <!-- èƒŒæ™¯è£…é¥° -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute -top-40 -right-40 w-80 h-80 bg-white bg-opacity-10 rounded-full blur-3xl floating-animation"></div>
            <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-white bg-opacity-10 rounded-full blur-3xl floating-animation" style="animation-delay: -3s;"></div>
        </div>
        
        <div class="max-w-md w-full text-center relative z-10">
            <!-- ç½‘ç«™æ ‡é¢˜ -->
            <h1 class="text-4xl font-bold text-white mb-2 floating-animation">soultest.top</h1>
            <p class="text-white text-opacity-80 mb-8">ä¸“ä¸šå¿ƒç†å¥åº·è¯„ä¼°å¹³å°</p>
            
            <!-- æµ‹è¯•ç®€ä»‹ -->
            <div class="glass-effect rounded-3xl p-8 mb-8 premium-shadow">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-3">
                        <span class="text-2xl">ğŸ§ </span>
                    </div>
                    <h2 class="text-2xl font-bold text-white">SCL-90å¿ƒç†æµ‹è¯•</h2>
                </div>
                <p class="text-white text-opacity-90 text-base leading-relaxed mb-6">
                    åŸºäºå›½é™…æ ‡å‡†çš„å¿ƒç†å¥åº·è¯„ä¼°å·¥å…·ï¼Œé€šè¿‡90é“ä¸“ä¸šé¢˜ç›®ï¼Œå…¨é¢åˆ†ææ‚¨çš„å¿ƒç†çŠ¶æ€ï¼Œä¸ºæ‚¨æä¾›ç§‘å­¦çš„å¿ƒç†å¥åº·æŠ¥å‘Šã€‚
                </p>
                <div class="bg-white bg-opacity-20 rounded-2xl p-4 border border-white border-opacity-30">
                    <div class="flex items-start">
                        <span class="text-yellow-300 text-lg mr-2">âš ï¸</span>
                        <div class="text-left">
                            <p class="text-white font-medium text-sm mb-1">é‡è¦æé†’</p>
                            <p class="text-white text-opacity-80 text-xs">è¯·æ ¹æ®æœ€è¿‘ä¸€å‘¨çš„çœŸå®æ„Ÿå—ä½œç­”ï¼Œç»“æœä»…ä¾›å‚è€ƒï¼Œä¸æ›¿ä»£ä¸“ä¸šå¿ƒç†è¯Šæ–­</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ç‰¹è‰²åŠŸèƒ½ -->
            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="glass-effect rounded-2xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ”’</div>
                    <p class="text-white text-sm font-medium">éšç§ä¿æŠ¤</p>
                    <p class="text-white text-opacity-70 text-xs">æ•°æ®æœ¬åœ°å¤„ç†</p>
                </div>
                <div class="glass-effect rounded-2xl p-4 text-center">
                    <div class="text-2xl mb-2">ğŸ“Š</div>
                    <p class="text-white text-sm font-medium">ä¸“ä¸šåˆ†æ</p>
                    <p class="text-white text-opacity-70 text-xs">10é¡¹å› å­è¯„ä¼°</p>
                </div>
            </div>
            
            <!-- å¼€å§‹æµ‹è¯•æŒ‰é’® -->
            <button id="startTestBtn" class="bg-white text-gray-800 px-12 py-4 rounded-2xl text-lg font-semibold w-full mx-auto block hover:bg-opacity-90 transition-all duration-300 transform hover:scale-105 pulse-glow">
                ğŸš€ å¼€å§‹ä¸“ä¸šæµ‹è¯•
            </button>
            
            <!-- è°ƒè¯•æŒ‰é’®ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰ -->
            <div class="mt-6 space-y-2">
                <button id="debugBtn" class="text-white text-opacity-60 text-sm hover:text-opacity-100 transition-opacity" onclick="debugTest()">
                    ğŸ”§ è°ƒè¯•æµ‹è¯•
                </button>
                <br>
                <button id="simpleBtn" class="text-white text-opacity-60 text-sm hover:text-opacity-100 transition-opacity" onclick="simpleTest()">
                    âš¡ ç®€åŒ–æµ‹è¯•
                </button>
            </div>
        </div>
    </div>

    <!-- éªŒè¯ç å¼¹çª— -->
    <div id="verificationModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl p-6 w-80 mx-4 card-shadow modal-enter">
            <h3 class="text-lg font-semibold text-center mb-2">è¯·è¾“å…¥éªŒè¯ç </h3>
            
            <div class="mb-6">
                <input 
                    type="text" 
                    id="verificationCode" 
                    placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç " 
                    maxlength="6"
                    class="w-full px-4 py-3 border border-gray-300 rounded-xl text-center text-lg tracking-widest focus:border-blue-500 focus:outline-none transition-colors"
                >
                <div id="errorMessage" class="text-red-500 text-xs mt-2 text-center hidden">éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥</div>
            </div>
            
            <div class="flex gap-3">
                <button id="cancelBtn" class="flex-1 py-3 border border-gray-300 text-gray-600 rounded-xl font-medium hover:bg-gray-50 transition-colors">
                    å–æ¶ˆ
                </button>
                <button id="verifyBtn" class="flex-1 ios-blue-bg text-white py-3 rounded-xl font-medium hover:bg-blue-600 transition-colors">
                    éªŒè¯å¹¶å¼€å§‹
                </button>
            </div>
        </div>
    </div>

    <!-- æµ‹è¯•é¡µé¢ -->
    <div id="testPage" class="min-h-screen bg-gray-50 hidden">
        <div class="max-w-lg mx-auto px-4 py-6">
            <!-- è¿›åº¦æ¡ -->
            <div class="mb-6">
                <div class="bg-white rounded-2xl p-4 shadow-sm">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-gray-600 font-medium">æµ‹è¯•è¿›åº¦</span>
                        <span id="progressText" class="text-gray-800 font-semibold">1/90</span>
                    </div>
                    <div class="bg-gray-200 rounded-full h-2">
                        <div id="progressBar" class="bg-blue-500 h-2 rounded-full progress-bar" style="width: 0%"></div>
                    </div>
                </div>
            </div>
            
            <!-- é¢˜ç›® -->
            <div class="bg-white rounded-2xl p-6 mb-6 shadow-sm">
                <h2 id="questionText" class="text-lg font-medium text-gray-900 leading-relaxed text-center"></h2>
            </div>
            
            <!-- é€‰é¡¹ -->
            <div id="optionsContainer" class="space-y-3">
                <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- ç»“æœé¡µé¢ -->
    <div id="resultPage" class="min-h-screen gradient-bg hidden relative overflow-hidden">
        <!-- èƒŒæ™¯è£…é¥° -->
        <div class="absolute inset-0 overflow-hidden">
            <div class="absolute top-10 left-10 w-40 h-40 bg-white bg-opacity-5 rounded-full blur-3xl floating-animation"></div>
            <div class="absolute bottom-10 right-10 w-32 h-32 bg-white bg-opacity-5 rounded-full blur-3xl floating-animation" style="animation-delay: -2s;"></div>
        </div>
        
        <div class="max-w-4xl mx-auto px-4 py-8 relative z-10">
            <!-- æ ‡é¢˜ -->
            <div class="text-center mb-8">
                <h1 class="text-4xl font-bold text-white mb-2 floating-animation">ğŸ¯ æµ‹è¯•ç»“æœ</h1>
                <p class="text-white text-opacity-80">åŸºäºSCL-90æ ‡å‡†çš„ä¸“ä¸šå¿ƒç†å¥åº·è¯„ä¼°æŠ¥å‘Š</p>
            </div>
            
            <!-- æ€»åˆ†å¡ç‰‡ -->
            <div id="totalScoreCard" class="glass-effect rounded-3xl p-8 mb-8 premium-shadow">
                <div class="text-center">
                    <div class="w-20 h-20 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6">
                        <span class="text-4xl">ğŸ“Š</span>
                    </div>
                    <h3 class="text-2xl font-bold text-white mb-6">æ€»ä½“è¯„ä¼°ç»“æœ</h3>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="glass-effect rounded-2xl p-6">
                            <div class="text-white text-opacity-80 text-sm mb-2">æ€»åˆ†</div>
                            <div id="totalScore" class="text-3xl font-bold text-white">æ€»åˆ†ï¼š<span class="text-gradient"></span></div>
                        </div>
                        <div class="glass-effect rounded-2xl p-6">
                            <div class="text-white text-opacity-80 text-sm mb-2">é˜³æ€§é¡¹ç›®æ•°</div>
                            <div id="positiveItems" class="text-3xl font-bold text-white">é˜³æ€§é¡¹ç›®æ•°ï¼š<span class="text-gradient"></span></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- å› å­åˆ†åˆ—è¡¨ -->
            <div id="factorScores" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <!-- å› å­åˆ†å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <!-- ä¸“ä¸šå»ºè®® -->
            <div id="professionalAdvice" class="glass-effect rounded-3xl p-8 mb-8 premium-shadow">
                <div class="flex items-center mb-6">
                    <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-4">
                        <span class="text-2xl">ğŸ’¡</span>
                    </div>
                    <h3 class="text-2xl font-bold text-white">ä¸“ä¸šå»ºè®®ä¸æŒ‡å¯¼</h3>
                </div>
                <div id="adviceText" class="text-white text-opacity-90 leading-relaxed text-base"></div>
            </div>
            
            <!-- åº•éƒ¨æŒ‰é’® -->
            <div class="flex flex-col gap-4">
                <button id="retakeTestBtn" class="glass-effect text-white py-4 rounded-2xl font-semibold hover:bg-opacity-30 transition-all duration-300 transform hover:scale-105">
                    ğŸ”„ é‡æ–°æµ‹è¯•
                </button>
                <button id="backToHomeBtn" class="text-white text-opacity-70 py-3 font-medium hover:text-opacity-100 transition-opacity">
                    â† è¿”å›é¦–é¡µ
                </button>
                <p class="text-white text-opacity-60 text-center text-sm mt-4">ğŸ’¡ é•¿æŒ‰æˆªå›¾ä¿å­˜ç»“æœ</p>
            </div>
        </div>
    </div>

    <script>
        // SCL-90é¢˜ç›®æ•°æ®ï¼ˆ90é“é¢˜ï¼‰
        const scl90Questions = [
            "å¤´ç—›",
            "ç¥ç»è¿‡æ•ï¼Œå¿ƒä¸­ä¸è¸å®",
            "å¤´è„‘ä¸­æœ‰ä¸å¿…è¦çš„æƒ³æ³•æˆ–å­—å¥ç›˜æ—‹",
            "å¤´æ˜æˆ–æ˜å€’",
            "å¯¹å¼‚æ€§çš„å…´è¶£å‡é€€",
            "å¯¹æ—äººè´£å¤‡æ±‚å…¨",
            "æ„Ÿåˆ°åˆ«äººèƒ½æ§åˆ¶æ‚¨çš„æ€æƒ³",
            "è´£æ€ªåˆ«äººåˆ¶é€ éº»çƒ¦",
            "å¿˜è®°æ€§å¤§",
            "æ‹…å¿ƒè‡ªå·±çš„è¡£é¥°æ•´é½åŠä»ªæ€çš„ç«¯æ­£",
            "å®¹æ˜“çƒ¦æ¼å’Œæ¿€åŠ¨",
            "èƒ¸ç—›",
            "å®³æ€•ç©ºæ—·çš„åœºæ‰€æˆ–è¡—é“",
            "æ„Ÿåˆ°è‡ªå·±çš„ç²¾åŠ›ä¸‹é™ï¼Œæ´»åŠ¨å‡æ…¢",
            "æƒ³ç»“æŸè‡ªå·±çš„ç”Ÿå‘½",
            "å¬åˆ°æ—äººå¬ä¸åˆ°çš„å£°éŸ³",
            "å‘æŠ–",
            "æ„Ÿåˆ°å¤§å¤šæ•°äººéƒ½ä¸å¯ä¿¡ä»»",
            "èƒƒå£ä¸å¥½",
            "å®¹æ˜“å“­æ³£",
            "åŒå¼‚æ€§ç›¸å¤„æ—¶æ„Ÿåˆ°å®³ç¾ä¸è‡ªåœ¨",
            "æ„Ÿåˆ°å—éª—ï¼Œä¸­äº†åœˆå¥—æˆ–æœ‰äººæƒ³æŠ“ä½æ‚¨",
            "æ— ç¼˜æ— æ•…åœ°çªç„¶æ„Ÿåˆ°å®³æ€•",
            "è‡ªå·±ä¸èƒ½æ§åˆ¶åœ°å¤§å‘è„¾æ°”",
            "æ€•å•ç‹¬å‡ºé—¨",
            "ç»å¸¸è´£æ€ªè‡ªå·±",
            "è…°ç—›",
            "æ„Ÿåˆ°éš¾ä»¥å®Œæˆä»»åŠ¡",
            "æ„Ÿåˆ°å­¤ç‹¬",
            "æ„Ÿåˆ°è‹¦é—·",
            "è¿‡åˆ†æ‹…å¿§",
            "å¯¹äº‹ç‰©ä¸æ„Ÿå…´è¶£",
            "æ„Ÿåˆ°å®³æ€•",
            "æ‚¨çš„æ„Ÿæƒ…å®¹æ˜“å—åˆ°ä¼¤å®³",
            "æ—äººèƒ½çŸ¥é“æ‚¨çš„ç§ä¸‹æƒ³æ³•",
            "æ„Ÿåˆ°åˆ«äººä¸ç†è§£æ‚¨ï¼Œä¸åŒæƒ…æ‚¨",
            "æ„Ÿåˆ°äººä»¬å¯¹æ‚¨ä¸å‹å¥½ï¼Œä¸å–œæ¬¢æ‚¨",
            "åšäº‹å¿…é¡»åšå¾—å¾ˆæ…¢ä»¥ä¿è¯åšå¾—æ­£ç¡®",
            "å¿ƒè·³å¾—å¾ˆå‰å®³",
            "æ¶å¿ƒæˆ–èƒƒéƒ¨ä¸èˆ’æœ",
            "æ„Ÿåˆ°æ¯”ä¸ä¸Šä»–äºº",
            "è‚Œè‚‰é…¸ç—›",
            "æ„Ÿåˆ°æœ‰äººåœ¨ç›‘è§†æ‚¨ï¼Œè°ˆè®ºæ‚¨",
            "éš¾ä»¥å…¥ç¡",
            "åšäº‹å¿…é¡»åå¤æ£€æŸ¥",
            "éš¾ä»¥åšå‡ºå†³å®š",
            "æ€•ä¹˜ç”µè½¦ã€å…¬å…±æ±½è½¦ã€åœ°é“æˆ–ç«è½¦",
            "å‘¼å¸æœ‰å›°éš¾",
            "ä¸€é˜µé˜µå‘å†·æˆ–å‘çƒ­",
            "å› ä¸ºæ„Ÿåˆ°å®³æ€•è€Œé¿å¼€æŸäº›ä¸œè¥¿ã€åœºåˆæˆ–æ´»åŠ¨",
            "è„‘å­å˜ç©ºäº†",
            "èº«ä½“å‘éº»æˆ–åˆºç—›",
            "å–‰å’™æœ‰æ¢—å¡æ„Ÿ",
            "æ„Ÿåˆ°å‰é€”æ²¡æœ‰å¸Œæœ›",
            "ä¸èƒ½é›†ä¸­æ³¨æ„åŠ›",
            "æ„Ÿåˆ°èº«ä½“çš„æŸä¸€éƒ¨åˆ†è½¯å¼±æ— åŠ›",
            "æ„Ÿåˆ°ç´§å¼ æˆ–å®¹æ˜“ç´§å¼ ",
            "æ„Ÿåˆ°æ‰‹æˆ–è„šå‘é‡",
            "æƒ³åˆ°æ­»äº¡çš„äº‹",
            "åƒå¾—å¤ªå¤š",
            "å½“åˆ«äººçœ‹ç€æ‚¨æˆ–è°ˆè®ºæ‚¨æ—¶æ„Ÿåˆ°ä¸è‡ªåœ¨",
            "æœ‰ä¸€äº›ä¸å±äºæ‚¨è‡ªå·±çš„æƒ³æ³•",
            "æœ‰æƒ³æ‰“äººæˆ–ä¼¤å®³ä»–äººçš„å†²åŠ¨",
            "é†’å¾—å¤ªæ—©",
            "å¿…é¡»åå¤æ´—æ‰‹ã€ç‚¹æ•°ç›®æˆ–è§¦æ‘¸æŸäº›ä¸œè¥¿",
            "ç¡å¾—ä¸ç¨³ä¸æ·±",
            "æœ‰æƒ³æ‘”åæˆ–ç ´åä¸œè¥¿çš„å†²åŠ¨",
            "æœ‰ä¸€äº›åˆ«äººæ²¡æœ‰çš„æƒ³æ³•æˆ–å¿µå¤´",
            "æ„Ÿåˆ°å¯¹åˆ«äººç¥ç»è¿‡æ•",
            "åœ¨å•†åº—æˆ–ç”µå½±é™¢ç­‰äººå¤šçš„åœ°æ–¹æ„Ÿåˆ°ä¸è‡ªåœ¨",
            "æ„Ÿåˆ°ä»»ä½•äº‹æƒ…éƒ½å¾ˆå›°éš¾",
            "ä¸€é˜µé˜µææƒ§æˆ–æƒŠæ",
            "æ„Ÿåˆ°åœ¨å…¬å…±åœºåˆåƒä¸œè¥¿å¾ˆä¸èˆ’æœ",
            "ç»å¸¸ä¸äººäº‰è®º",
            "å•ç‹¬ä¸€äººæ—¶ç¥ç»å¾ˆç´§å¼ ",
            "åˆ«äººå¯¹æ‚¨çš„æˆç»©æ²¡æœ‰åšå‡ºæ°å½“çš„è¯„ä»·",
            "å³ä½¿å’Œåˆ«äººåœ¨ä¸€èµ·ä¹Ÿæ„Ÿåˆ°å­¤å•",
            "æ„Ÿåˆ°åç«‹ä¸å®‰å¿ƒç¥ä¸å®š",
            "æ„Ÿåˆ°è‡ªå·±æ²¡æœ‰ä»€ä¹ˆä»·å€¼",
            "æ„Ÿåˆ°ç†Ÿæ‚‰çš„ä¸œè¥¿å˜æˆé™Œç”Ÿæˆ–ä¸åƒæ˜¯çœŸçš„",
            "å¤§å«æˆ–æ‘”ä¸œè¥¿",
            "å®³æ€•ä¼šåœ¨å…¬å…±åœºåˆæ˜å€’",
            "æ„Ÿåˆ°åˆ«äººæƒ³å æ‚¨çš„ä¾¿å®œ",
            "ä¸ºä¸€äº›æœ‰å…³æ€§çš„æƒ³æ³•è€Œå¾ˆè‹¦æ¼",
            "æ‚¨è®¤ä¸ºåº”è¯¥å› ä¸ºè‡ªå·±çš„è¿‡é”™è€Œå—åˆ°æƒ©ç½š",
            "æ„Ÿåˆ°è¦èµ¶å¿«æŠŠäº‹æƒ…åšå®Œ",
            "æ„Ÿåˆ°è‡ªå·±çš„èº«ä½“æœ‰ä¸¥é‡é—®é¢˜",
            "ä»æœªæ„Ÿåˆ°å’Œå…¶ä»–äººå¾ˆäº²è¿‘",
            "æ„Ÿåˆ°è‡ªå·±æœ‰ç½ª",
            "æ„Ÿåˆ°è‡ªå·±çš„è„‘å­æœ‰æ¯›ç—…"
        ];

        // SCL-90å› å­åˆ†ç»„ï¼ˆé¢˜ç›®ç¼–å·ä»0å¼€å§‹ï¼Œå¯¹åº”é¢˜å·1-90ï¼‰
        const factorGroups = {
            "èº¯ä½“åŒ–": [0, 3, 11, 26, 39, 41, 47, 48, 51, 52, 55, 57],
            "å¼ºè¿«ç—‡çŠ¶": [2, 8, 9, 27, 37, 44, 45, 50, 54, 64],
            "äººé™…å…³ç³»æ•æ„Ÿ": [5, 20, 33, 35, 36, 40, 60, 68, 72],
            "æŠ‘éƒ": [4, 13, 14, 19, 21, 25, 28, 29, 30, 31, 53, 70, 78],
            "ç„¦è™‘": [1, 16, 22, 32, 38, 56, 71, 77, 79, 85],
            "æ•Œå¯¹": [10, 23, 62, 66, 73, 80],
            "ææ€–": [12, 24, 46, 49, 69, 74, 81],
            "åæ‰§": [7, 17, 42, 67, 75, 82],
            "ç²¾ç¥ç—…æ€§": [6, 15, 34, 61, 76, 83, 84, 86, 87, 89],
            "å…¶ä»–": [18, 43, 58, 59, 63, 65, 88]
        };

        // é€‰é¡¹æ–‡æœ¬
        const optionTexts = ["æ²¡æœ‰", "å¾ˆè½»", "ä¸­ç­‰", "åé‡", "ä¸¥é‡"];

        // å…¨å±€å˜é‡
        let currentQuestion = 0;
        let answers = [];
        let isVerifying = false;

        // DOMå…ƒç´ 
        const homePage = document.getElementById('homePage');
        const verificationModal = document.getElementById('verificationModal');
        const testPage = document.getElementById('testPage');
        const resultPage = document.getElementById('resultPage');
        const startTestBtn = document.getElementById('startTestBtn');
        const verificationCode = document.getElementById('verificationCode');
        const errorMessage = document.getElementById('errorMessage');
        const cancelBtn = document.getElementById('cancelBtn');
        const verifyBtn = document.getElementById('verifyBtn');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const questionText = document.getElementById('questionText');
        const optionsContainer = document.getElementById('optionsContainer');
        const totalScoreCard = document.getElementById('totalScoreCard');
        const factorScores = document.getElementById('factorScores');
        const professionalAdvice = document.getElementById('professionalAdvice');
        const adviceText = document.getElementById('adviceText');
        const retakeTestBtn = document.getElementById('retakeTestBtn');
        const backToHomeBtn = document.getElementById('backToHomeBtn');

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // éªŒè¯ç è¾“å…¥é™åˆ¶
            verificationCode.addEventListener('input', function(e) {
                e.target.value = e.target.value.replace(/[^0-9]/g, '');
            });

            // éªŒè¯ç å›è½¦é”®æäº¤
            verificationCode.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyCode();
                }
            });

            // äº‹ä»¶ç›‘å¬
            startTestBtn.addEventListener('click', showVerificationModal);
            cancelBtn.addEventListener('click', hideVerificationModal);
            verifyBtn.addEventListener('click', verifyCode);
            retakeTestBtn.addEventListener('click', restartTest);
            backToHomeBtn.addEventListener('click', backToHome);

            // ä»localStorageæ¢å¤æ•°æ®
            const savedAnswers = localStorage.getItem('scl90Answers');
            const savedQuestion = localStorage.getItem('scl90CurrentQuestion');
            if (savedAnswers) {
                answers = JSON.parse(savedAnswers);
                currentQuestion = savedQuestion ? parseInt(savedQuestion) : answers.length;
                if (currentQuestion < 90) {
                    // å¦‚æœæœ‰æœªå®Œæˆçš„æµ‹è¯•ï¼Œç›´æ¥è¿›å…¥æµ‹è¯•é¡µ
                    const confirmed = confirm('æ£€æµ‹åˆ°æœªå®Œæˆçš„æµ‹è¯•ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ');
                    if (confirmed) {
                        showTestPage();
                    } else {
                        localStorage.removeItem('scl90Answers');
                        localStorage.removeItem('scl90CurrentQuestion');
                        answers = [];
                        currentQuestion = 0;
                    }
                }
            }

            // æµè§ˆå™¨å›é€€æ”¯æŒ
            window.addEventListener('popstate', function(e) {
                if (e.state && e.state.page === 'test' && e.state.question !== undefined) {
                    currentQuestion = e.state.question;
                    loadQuestion();
                }
            });
        });

        // æ˜¾ç¤ºéªŒè¯ç å¼¹çª—
        function showVerificationModal() {
            verificationModal.classList.remove('hidden');
            verificationCode.value = '';
            errorMessage.classList.add('hidden');
            setTimeout(() => {
                verificationCode.focus();
            }, 100);
        }

        // éšè—éªŒè¯ç å¼¹çª—
        function hideVerificationModal() {
            verificationModal.classList.add('hidden');
            verificationCode.value = '';
            errorMessage.classList.add('hidden');
        }

        // éªŒè¯éªŒè¯ç ï¼ˆæ¨¡æ‹ŸéªŒè¯ - ä»»æ„6ä½æ•°å­—é€šè¿‡ï¼‰
        async function verifyCode() {
            const code = verificationCode.value.trim();
            if (code.length !== 6) {
                showError('è¯·è¾“å…¥6ä½éªŒè¯ç ');
                return;
            }

            if (isVerifying) return;
            isVerifying = true;
            verifyBtn.textContent = 'éªŒè¯ä¸­...';
            verifyBtn.disabled = true;

            try {
                // æ¨¡æ‹ŸéªŒè¯å»¶è¿Ÿ
                await new Promise(resolve => setTimeout(resolve, 500));
                
                // æ¨¡æ‹ŸéªŒè¯ - ä»»æ„6ä½æ•°å­—éƒ½é€šè¿‡
                // åœ¨å®é™…éƒ¨ç½²æ—¶ï¼Œæ›¿æ¢ä¸ºçœŸå®çš„91å¡åˆ¸æ¥å£è°ƒç”¨
                /*
                const response = await fetch('[91å¡åˆ¸éªŒè¯æ¥å£URL]', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        code: code
                    })
                });
                const result = await response.json();
                if (result.success) {
                */
                
                // æ¨¡æ‹ŸéªŒè¯æˆåŠŸ
                hideVerificationModal();
                showTestPage();
                
                /*
                } else {
                    showError('éªŒè¯ç é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥');
                }
                */
            } catch (error) {
                console.error('éªŒè¯ç éªŒè¯å¤±è´¥:', error);
                showError('éªŒè¯å¤±è´¥ï¼Œè¯·é‡è¯•');
            } finally {
                isVerifying = false;
                verifyBtn.textContent = 'éªŒè¯å¹¶å¼€å§‹';
                verifyBtn.disabled = false;
            }
        }

        // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
        function showError(message) {
            errorMessage.textContent = message;
            errorMessage.classList.remove('hidden');
        }

        // æ˜¾ç¤ºæµ‹è¯•é¡µé¢
        function showTestPage() {
            homePage.classList.add('hidden');
            testPage.classList.remove('hidden');
            testPage.classList.add('fade-in');
            
            // ç¡®ä¿ç­”æ¡ˆæ•°ç»„æ­£ç¡®åˆå§‹åŒ–
            if (!answers || answers.length === 0) {
                answers = new Array(90).fill(0);
                console.log('åˆå§‹åŒ–ç­”æ¡ˆæ•°ç»„:', answers);
            }
            
            loadQuestion();
        }

        // åŠ è½½é¢˜ç›®
        function loadQuestion() {
            if (currentQuestion >= 90) {
                console.log('æµ‹è¯•å®Œæˆï¼Œå‡†å¤‡æ˜¾ç¤ºç»“æœ');
                console.log('æœ€ç»ˆç­”æ¡ˆæ•°ç»„é•¿åº¦:', answers.length);
                console.log('æœ€ç»ˆç­”æ¡ˆæ•°ç»„:', answers);
                showResultPage();
                return;
            }

            // ä¿å­˜å½“å‰è¿›åº¦
            localStorage.setItem('scl90CurrentQuestion', currentQuestion.toString());
            
            // æ·»åŠ åˆ°æµè§ˆå™¨å†å²è®°å½•
            if (currentQuestion > 0) {
                history.pushState({ page: 'test', question: currentQuestion }, '', '#q' + (currentQuestion + 1));
            }

            // æ›´æ–°è¿›åº¦
            const progress = ((currentQuestion + 1) / 90) * 100;
            progressBar.style.width = progress + '%';
            progressText.textContent = `${currentQuestion + 1}/90`;

            // æ˜¾ç¤ºé¢˜ç›®
            questionText.textContent = scl90Questions[currentQuestion];

            // ç”Ÿæˆé€‰é¡¹
            optionsContainer.innerHTML = '';
            optionTexts.forEach((text, index) => {
                const option = document.createElement('div');
                option.className = 'option-card bg-white p-4 rounded-xl cursor-pointer text-center font-medium border-2 border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200';
                option.textContent = text;
                option.dataset.value = index + 1;
                
                // å¦‚æœå·²ç»é€‰æ‹©è¿‡ï¼Œæ˜¾ç¤ºé€‰ä¸­çŠ¶æ€
                if (answers[currentQuestion] === index + 1) {
                    option.classList.add('selected');
                }
                
                option.addEventListener('click', function() {
                    selectOption(index + 1, option);
                });
                optionsContainer.appendChild(option);
            });
        }

        // é€‰æ‹©é€‰é¡¹
        function selectOption(value, element) {
            // ç¡®ä¿ç­”æ¡ˆæ•°ç»„æœ‰è¶³å¤Ÿçš„é•¿åº¦
            while (answers.length <= currentQuestion) {
                answers.push(0);
            }
            
            answers[currentQuestion] = value;
            localStorage.setItem('scl90Answers', JSON.stringify(answers));
            
            console.log(`é¢˜ç›® ${currentQuestion + 1} é€‰æ‹©: ${value}`);
            console.log('å½“å‰ç­”æ¡ˆæ•°ç»„:', answers);
            
            // æ˜¾ç¤ºé€‰ä¸­æ•ˆæœ
            optionsContainer.querySelectorAll('.option-card').forEach(card => {
                card.classList.remove('selected');
            });
            element.classList.add('selected');
            
            // å»¶è¿Ÿè·³è½¬åˆ°ä¸‹ä¸€é¢˜
            setTimeout(() => {
                currentQuestion++;
                loadQuestion();
            }, 300);
        }

        // æ˜¾ç¤ºç»“æœé¡µé¢
        function showResultPage() {
            testPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            resultPage.classList.add('fade-in');
            
            // æ˜¾ç¤ºéª¨æ¶å±
            showSkeleton();
            
            // å»¶è¿Ÿæ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                calculateAndShowResults();
            }, 500);
        }

        // æ˜¾ç¤ºéª¨æ¶å±
        function showSkeleton() {
            totalScoreCard.innerHTML = `
                <div class="text-center">
                    <div class="skeleton h-6 w-32 mx-auto mb-4 rounded"></div>
                    <div class="space-y-2">
                        <div class="skeleton h-4 w-24 mx-auto rounded"></div>
                        <div class="skeleton h-4 w-32 mx-auto rounded"></div>
                    </div>
                </div>
            `;
            
            factorScores.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                const factorDiv = document.createElement('div');
                factorDiv.className = 'bg-white rounded-lg p-4 card-shadow';
                factorDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-2">
                        <div class="skeleton h-4 w-20 rounded"></div>
                        <div class="skeleton h-4 w-12 rounded"></div>
                    </div>
                    <div class="skeleton h-2 w-full rounded"></div>
                `;
                factorScores.appendChild(factorDiv);
            }
        }

        // è®¡ç®—å¹¶æ˜¾ç¤ºç»“æœ
        function calculateAndShowResults() {
            try {
                console.log('=== å¼€å§‹è®¡ç®—ç»“æœ ===');
                console.log('ç­”æ¡ˆæ•°ç»„é•¿åº¦:', answers.length);
                console.log('ç­”æ¡ˆæ•°ç»„:', answers);
                
                // ç¡®ä¿ç­”æ¡ˆæ•°ç»„å®Œæ•´
                if (!answers || answers.length === 0) {
                    console.error('ç­”æ¡ˆæ•°ç»„ä¸ºç©ºï¼Œåˆ›å»ºé»˜è®¤æ•°æ®');
                    answers = new Array(90).fill(1);
                }
                
                // è¡¥å……ç¼ºå¤±çš„ç­”æ¡ˆ
                while (answers.length < 90) {
                    answers.push(1);
                    console.log('è¡¥å……ç­”æ¡ˆï¼Œå½“å‰é•¿åº¦:', answers.length);
                }
                
                // æˆªæ–­å¤šä½™çš„ç­”æ¡ˆ
                if (answers.length > 90) {
                    answers = answers.slice(0, 90);
                    console.log('æˆªæ–­ç­”æ¡ˆï¼Œå½“å‰é•¿åº¦:', answers.length);
                }
                
                // ä¿®å¤æ— æ•ˆç­”æ¡ˆ
                for (let i = 0; i < answers.length; i++) {
                    if (!answers[i] || answers[i] < 1 || answers[i] > 5) {
                        answers[i] = 1;
                        console.log(`ä¿®å¤é¢˜ç›® ${i + 1} çš„ç­”æ¡ˆ: ${answers[i]}`);
                    }
                }
                
                console.log('ä¿®å¤åçš„ç­”æ¡ˆæ•°ç»„:', answers);
                
                // è®¡ç®—æ€»åˆ†
                const totalScore = answers.reduce((sum, score) => sum + (score || 1), 0);
                console.log('æ€»åˆ†:', totalScore);
                
                // è®¡ç®—é˜³æ€§é¡¹ç›®æ•°
                const positiveItems = answers.filter(score => score >= 2).length;
                console.log('é˜³æ€§é¡¹ç›®æ•°:', positiveItems);
                
                // æ˜¾ç¤ºæ€»åˆ†
                const totalScoreElement = document.querySelector('#totalScore span');
                const positiveItemsElement = document.querySelector('#positiveItems span');
                
                console.log('æŸ¥æ‰¾æ€»åˆ†å…ƒç´ :', totalScoreElement);
                console.log('æŸ¥æ‰¾é˜³æ€§é¡¹ç›®æ•°å…ƒç´ :', positiveItemsElement);
                console.log('æ€»åˆ†:', totalScore);
                console.log('é˜³æ€§é¡¹ç›®æ•°:', positiveItems);
                
                if (totalScoreElement) {
                    totalScoreElement.textContent = totalScore;
                    console.log('æ€»åˆ†æ˜¾ç¤ºæˆåŠŸ:', totalScore);
                } else {
                    console.error('æœªæ‰¾åˆ°æ€»åˆ†å…ƒç´ ï¼Œå°è¯•å…¶ä»–æ–¹æ³•');
                    // å°è¯•ç›´æ¥è®¾ç½®æ•´ä¸ªå…ƒç´ çš„å†…å®¹
                    const totalScoreContainer = document.querySelector('#totalScore');
                    if (totalScoreContainer) {
                        totalScoreContainer.innerHTML = `æ€»åˆ†ï¼š<span class="text-gradient">${totalScore}</span>`;
                        console.log('é€šè¿‡å®¹å™¨è®¾ç½®æ€»åˆ†æˆåŠŸ');
                    }
                }
                
                if (positiveItemsElement) {
                    positiveItemsElement.textContent = positiveItems;
                    console.log('é˜³æ€§é¡¹ç›®æ•°æ˜¾ç¤ºæˆåŠŸ:', positiveItems);
                } else {
                    console.error('æœªæ‰¾åˆ°é˜³æ€§é¡¹ç›®æ•°å…ƒç´ ï¼Œå°è¯•å…¶ä»–æ–¹æ³•');
                    // å°è¯•ç›´æ¥è®¾ç½®æ•´ä¸ªå…ƒç´ çš„å†…å®¹
                    const positiveItemsContainer = document.querySelector('#positiveItems');
                    if (positiveItemsContainer) {
                        positiveItemsContainer.innerHTML = `é˜³æ€§é¡¹ç›®æ•°ï¼š<span class="text-gradient">${positiveItems}</span>`;
                        console.log('é€šè¿‡å®¹å™¨è®¾ç½®é˜³æ€§é¡¹ç›®æ•°æˆåŠŸ');
                    }
                }
                
                console.log('æ€»åˆ†å’Œé˜³æ€§é¡¹ç›®æ•°æ˜¾ç¤ºå®Œæˆ');
                
                // è®¡ç®—å› å­åˆ†
                const factorResults = {};
                console.log('å¼€å§‹è®¡ç®—å› å­åˆ†...');
                
                Object.keys(factorGroups).forEach(factorName => {
                    try {
                        const questionIndices = factorGroups[factorName];
                        console.log(`è®¡ç®—å› å­ ${factorName}:`, questionIndices);
                        
                        let factorTotal = 0;
                        let validCount = 0;
                        
                        questionIndices.forEach(index => {
                            if (index >= 0 && index < answers.length) {
                                const score = answers[index] || 1;
                                factorTotal += score;
                                validCount++;
                                console.log(`é¢˜ç›® ${index + 1} å¾—åˆ†: ${score}`);
                            }
                        });
                        
                        const factorAverage = validCount > 0 ? factorTotal / validCount : 1;
                        factorResults[factorName] = factorAverage;
                        
                        console.log(`${factorName} å› å­åˆ†: ${factorAverage}`);
                    } catch (factorError) {
                        console.error(`è®¡ç®—å› å­ ${factorName} æ—¶å‡ºé”™:`, factorError);
                        factorResults[factorName] = 1;
                    }
                });
                
                console.log('å› å­åˆ†è®¡ç®—å®Œæˆ:', factorResults);
                
                // æ˜¾ç¤ºå› å­åˆ†
                factorScores.innerHTML = '';
                Object.keys(factorResults).forEach(factorName => {
                    try {
                        const score = factorResults[factorName];
                        const percentage = Math.min((score / 5) * 100, 100);
                        const color = getScoreColor(score);
                        
                        const factorDiv = document.createElement('div');
                        factorDiv.className = 'glass-effect rounded-2xl p-6 premium-shadow';
                        factorDiv.innerHTML = `
                            <div class="flex justify-between items-center mb-4">
                                <span class="font-semibold text-white text-lg">${factorName}</span>
                                <span class="font-bold text-2xl" style="color: ${color}">${score.toFixed(2)}åˆ†</span>
                            </div>
                            <div class="bg-white bg-opacity-20 rounded-full h-3">
                                <div class="h-3 rounded-full transition-all duration-500" style="width: ${percentage}%; background-color: ${color}"></div>
                            </div>
                            <div class="mt-2 text-white text-opacity-70 text-sm">
                                ${getScoreDescription(score)}
                            </div>
                        `;
                        factorScores.appendChild(factorDiv);
                    } catch (displayError) {
                        console.error(`æ˜¾ç¤ºå› å­ ${factorName} æ—¶å‡ºé”™:`, displayError);
                    }
                });
                
                console.log('å› å­åˆ†æ˜¾ç¤ºå®Œæˆ');
                
                // æ˜¾ç¤ºä¸“ä¸šå»ºè®®
                let advice = generateProfessionalAdvice(totalScore, factorResults);
                
                if (adviceText) {
                    adviceText.innerHTML = advice;
                }
                
                console.log('ä¸“ä¸šå»ºè®®æ˜¾ç¤ºå®Œæˆ');
                console.log('=== ç»“æœè®¡ç®—å®Œæˆ ===');
                
            } catch (error) {
                console.error('è®¡ç®—ç»“æœæ—¶å‡ºé”™:', error);
                console.error('é”™è¯¯å †æ ˆ:', error.stack);
                
                // æ˜¾ç¤ºç®€åŒ–ç»“æœ
                try {
                    document.querySelector('#totalScore span').textContent = 'è®¡ç®—é”™è¯¯';
                    document.querySelector('#positiveItems span').textContent = 'è®¡ç®—é”™è¯¯';
                    adviceText.textContent = 'è®¡ç®—ç»“æœæ—¶å‡ºç°é”™è¯¯ï¼Œè¯·é‡æ–°æµ‹è¯•ã€‚å¦‚æœé—®é¢˜æŒç»­å­˜åœ¨ï¼Œè¯·è”ç³»æŠ€æœ¯æ”¯æŒã€‚';
                } catch (displayError) {
                    console.error('æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯æ—¶å‡ºé”™:', displayError);
                }
            } finally {
                // æ¸…é™¤æœ¬åœ°å­˜å‚¨
                try {
                    localStorage.removeItem('scl90Answers');
                    localStorage.removeItem('scl90CurrentQuestion');
                } catch (storageError) {
                    console.error('æ¸…é™¤æœ¬åœ°å­˜å‚¨æ—¶å‡ºé”™:', storageError);
                }
            }
        }

        // è·å–åˆ†æ•°å¯¹åº”çš„é¢œè‰²
        function getScoreColor(score) {
            if (score < 2) return '#10B981'; // ç»¿è‰² - æ­£å¸¸
            if (score < 3) return '#F59E0B'; // é»„è‰² - è½»åº¦
            if (score < 4) return '#F97316'; // æ©™è‰² - ä¸­åº¦
            return '#EF4444'; // çº¢è‰² - é‡åº¦
        }
        
        // è·å–åˆ†æ•°æè¿°
        function getScoreDescription(score) {
            if (score < 2) return 'æ­£å¸¸èŒƒå›´';
            if (score < 3) return 'è½»åº¦åé«˜';
            if (score < 4) return 'ä¸­åº¦åé«˜';
            return 'é‡åº¦åé«˜';
        }
        
        // ç”Ÿæˆä¸“ä¸šå»ºè®®
        function generateProfessionalAdvice(totalScore, factorResults) {
            let advice = '';
            
            // æ€»ä½“è¯„ä¼°
            if (totalScore < 160) {
                advice += `
                    <div class="mb-6">
                        <h4 class="text-xl font-bold text-white mb-3">ğŸ‰ æ€»ä½“è¯„ä¼°ï¼šå¿ƒç†å¥åº·çŠ¶æ€è‰¯å¥½</h4>
                        <p class="text-white text-opacity-90 leading-relaxed">
                            æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºå¿ƒç†å¥åº·çŠ¶æ€åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚è¿™è¡¨æ˜æ‚¨ç›®å‰å…·æœ‰è‰¯å¥½çš„å¿ƒç†é€‚åº”èƒ½åŠ›å’Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›ã€‚
                        </p>
                    </div>
                `;
            } else if (totalScore < 350) {
                advice += `
                    <div class="mb-6">
                        <h4 class="text-xl font-bold text-white mb-3">âš ï¸ æ€»ä½“è¯„ä¼°ï¼šéœ€è¦å…³æ³¨å¿ƒç†å¥åº·</h4>
                        <p class="text-white text-opacity-90 leading-relaxed">
                            æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºéƒ¨åˆ†å› å­å¾—åˆ†åé«˜ï¼Œæç¤ºå¯èƒ½å­˜åœ¨ä¸€å®šçš„å¿ƒç†å‹åŠ›ã€‚å»ºè®®é€‚å½“è°ƒèŠ‚ç”Ÿæ´»èŠ‚å¥ï¼Œä¿æŒè§„å¾‹ä½œæ¯ã€‚
                        </p>
                    </div>
                `;
            } else {
                advice += `
                    <div class="mb-6">
                        <h4 class="text-xl font-bold text-white mb-3">ğŸš¨ æ€»ä½“è¯„ä¼°ï¼šå»ºè®®å¯»æ±‚ä¸“ä¸šå¸®åŠ©</h4>
                        <p class="text-white text-opacity-90 leading-relaxed">
                            æµ‹è¯•ç»“æœæ˜¾ç¤ºæ‚¨å¯èƒ½æ­£åœ¨ç»å†è¾ƒå¤§çš„å¿ƒç†å›°æ‰°ã€‚å¼ºçƒˆå»ºè®®æ‚¨åŠæ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†åŒ»ç”Ÿæˆ–ç²¾ç¥ç§‘åŒ»ç”Ÿçš„å¸®åŠ©ã€‚
                        </p>
                    </div>
                `;
            }
            
            // å…·ä½“å› å­åˆ†æ
            const highFactors = Object.keys(factorResults).filter(factor => factorResults[factor] >= 3);
            if (highFactors.length > 0) {
                advice += `
                    <div class="mb-6">
                        <h4 class="text-xl font-bold text-white mb-3">ğŸ“Š é‡ç‚¹å…³æ³¨å› å­</h4>
                        <p class="text-white text-opacity-90 leading-relaxed mb-3">
                            ä»¥ä¸‹å› å­å¾—åˆ†åé«˜ï¼Œéœ€è¦ç‰¹åˆ«å…³æ³¨ï¼š
                        </p>
                        <ul class="text-white text-opacity-90 space-y-2">
                `;
                
                highFactors.forEach(factor => {
                    const factorAdvice = getFactorSpecificAdvice(factor, factorResults[factor]);
                    advice += `<li class="flex items-start"><span class="text-yellow-300 mr-2">â€¢</span>${factorAdvice}</li>`;
                });
                
                advice += `</ul></div>`;
            }
            
            // ä¸“ä¸šå»ºè®®
            advice += `
                <div class="mb-6">
                    <h4 class="text-xl font-bold text-white mb-3">ğŸ’¡ ä¸“ä¸šå»ºè®®</h4>
                    <div class="space-y-4">
                        <div class="glass-effect rounded-xl p-4">
                            <h5 class="font-semibold text-white mb-2">ğŸ§˜ è‡ªæˆ‘è°ƒèŠ‚æ–¹æ³•</h5>
                            <p class="text-white text-opacity-90 text-sm">
                                â€¢ ä¿æŒè§„å¾‹ä½œæ¯ï¼Œæ¯å¤©7-8å°æ—¶ç¡çœ <br>
                                â€¢ è¿›è¡Œé€‚é‡è¿åŠ¨ï¼Œå¦‚æ•£æ­¥ã€ç‘œä¼½ã€æ¸¸æ³³<br>
                                â€¢ ç»ƒä¹ æ·±å‘¼å¸ã€å†¥æƒ³ç­‰æ”¾æ¾æŠ€å·§<br>
                                â€¢ åŸ¹å…»å…´è¶£çˆ±å¥½ï¼Œè½¬ç§»æ³¨æ„åŠ›
                            </p>
                        </div>
                        <div class="glass-effect rounded-xl p-4">
                            <h5 class="font-semibold text-white mb-2">ğŸ¤ ç¤¾äº¤æ”¯æŒ</h5>
                            <p class="text-white text-opacity-90 text-sm">
                                â€¢ ä¸å®¶äººæœ‹å‹ä¿æŒè‰¯å¥½æ²Ÿé€š<br>
                                â€¢ å‚åŠ ç¤¾äº¤æ´»åŠ¨ï¼Œæ‰©å¤§ç¤¾äº¤åœˆ<br>
                                â€¢ å¯»æ±‚æƒ…æ„Ÿæ”¯æŒï¼Œä¸è¦ç‹¬è‡ªæ‰¿å—å‹åŠ›<br>
                                â€¢ è€ƒè™‘åŠ å…¥æ”¯æŒå°ç»„æˆ–å…´è¶£å›¢ä½“
                            </p>
                        </div>
                        <div class="glass-effect rounded-xl p-4">
                            <h5 class="font-semibold text-white mb-2">ğŸ¥ ä¸“ä¸šå¸®åŠ©</h5>
                            <p class="text-white text-opacity-90 text-sm">
                                â€¢ å¦‚ç—‡çŠ¶æŒç»­æˆ–åŠ é‡ï¼Œè¯·åŠæ—¶å°±åŒ»<br>
                                â€¢ å¯å’¨è¯¢å¿ƒç†å’¨è¯¢å¸ˆæˆ–å¿ƒç†åŒ»ç”Ÿ<br>
                                â€¢ è€ƒè™‘æ¥å—è®¤çŸ¥è¡Œä¸ºç–—æ³•ç­‰ä¸“ä¸šæ²»ç–—<br>
                                â€¢ å¿…è¦æ—¶å¯è€ƒè™‘è¯ç‰©æ²»ç–—
                            </p>
                        </div>
                    </div>
                </div>
            `;
            
            // é‡è¦æé†’
            advice += `
                <div class="glass-effect rounded-xl p-4 border border-yellow-300 border-opacity-30">
                    <h5 class="font-semibold text-yellow-300 mb-2">âš ï¸ é‡è¦æé†’</h5>
                    <p class="text-white text-opacity-90 text-sm">
                        æœ¬æµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šå¿ƒç†è¯Šæ–­ã€‚å¦‚æœ‰ä¸¥é‡å¿ƒç†å›°æ‰°ï¼Œè¯·åŠæ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚
                        å¿ƒç†å¥åº·æ˜¯æ•´ä½“å¥åº·çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå…³æ³¨å¿ƒç†å¥åº·æ˜¯æ˜æ™ºçš„é€‰æ‹©ã€‚
                    </p>
                </div>
            `;
            
            return advice;
        }
        
        // è·å–å…·ä½“å› å­å»ºè®®
        function getFactorSpecificAdvice(factorName, score) {
            const adviceMap = {
                'èº¯ä½“åŒ–': 'èº«ä½“ç—‡çŠ¶è¾ƒå¤šï¼Œå»ºè®®å…³æ³¨èº«ä½“å¥åº·ï¼Œé€‚å½“è¿åŠ¨ï¼Œå¦‚æœ‰æŒç»­èº«ä½“ä¸é€‚è¯·åŠæ—¶å°±åŒ»ã€‚',
                'å¼ºè¿«ç—‡çŠ¶': 'å¯èƒ½å­˜åœ¨å¼ºè¿«æ€ç»´æˆ–è¡Œä¸ºï¼Œå»ºè®®ç»ƒä¹ æ­£å¿µå†¥æƒ³ï¼Œå¿…è¦æ—¶å¯»æ±‚è®¤çŸ¥è¡Œä¸ºç–—æ³•ã€‚',
                'äººé™…å…³ç³»æ•æ„Ÿ': 'äººé™…äº¤å¾€ä¸­è¾ƒä¸ºæ•æ„Ÿï¼Œå»ºè®®å¢å¼ºè‡ªä¿¡ï¼Œå­¦ä¹ æ²Ÿé€šæŠ€å·§ï¼Œå»ºç«‹å¥åº·çš„äººé™…å…³ç³»ã€‚',
                'æŠ‘éƒ': 'æƒ…ç»ªä½è½æ˜æ˜¾ï¼Œå»ºè®®å¤šå‚ä¸ç§¯ææ´»åŠ¨ï¼Œä¿æŒç¤¾äº¤è”ç³»ï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¿ƒç†å¸®åŠ©ã€‚',
                'ç„¦è™‘': 'ç„¦è™‘æƒ…ç»ªè¾ƒé‡ï¼Œå»ºè®®ç»ƒä¹ æ”¾æ¾æŠ€å·§ï¼Œå¦‚æ·±å‘¼å¸ã€æ¸è¿›å¼è‚Œè‚‰æ”¾æ¾ï¼Œé¿å…è¿‡åº¦æ‹…å¿§ã€‚',
                'æ•Œå¯¹': 'æ•Œå¯¹æƒ…ç»ªè¾ƒå¼ºï¼Œå»ºè®®å­¦ä¹ æƒ…ç»ªç®¡ç†æŠ€å·§ï¼Œç»ƒä¹ æ¢ä½æ€è€ƒï¼Œå¯»æ±‚å†²çªè§£å†³æ–¹æ³•ã€‚',
                'ææ€–': 'ææƒ§æƒ…ç»ªæ˜æ˜¾ï¼Œå»ºè®®é€æ­¥æš´éœ²ç–—æ³•ï¼Œå¯»æ±‚ä¸“ä¸šå¸®åŠ©å…‹æœææƒ§ã€‚',
                'åæ‰§': 'å¯èƒ½å­˜åœ¨åæ‰§æ€ç»´ï¼Œå»ºè®®ä¿æŒå¼€æ”¾å¿ƒæ€ï¼Œå¯»æ±‚ä»–äººæ„è§ï¼Œå¿…è¦æ—¶å’¨è¯¢ä¸“ä¸šäººå£«ã€‚',
                'ç²¾ç¥ç—…æ€§': 'ç—‡çŠ¶è¾ƒä¸ºä¸¥é‡ï¼Œå¼ºçƒˆå»ºè®®ç«‹å³å¯»æ±‚ä¸“ä¸šç²¾ç¥ç§‘åŒ»ç”Ÿçš„å¸®åŠ©ã€‚',
                'å…¶ä»–': 'å…¶ä»–å¿ƒç†ç—‡çŠ¶ï¼Œå»ºè®®ç»¼åˆè¯„ä¼°ï¼Œå¯»æ±‚ä¸“ä¸šå¿ƒç†è¯„ä¼°å’Œæ²»ç–—ã€‚'
            };
            return adviceMap[factorName] || 'è¯¥å› å­å¾—åˆ†åé«˜ï¼Œå»ºè®®å…³æ³¨ç›¸å…³ç—‡çŠ¶ï¼Œå¿…è¦æ—¶å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚';
        }

        // é‡æ–°æµ‹è¯•
        function restartTest() {
            currentQuestion = 0;
            answers = [];
            localStorage.removeItem('scl90Answers');
            localStorage.removeItem('scl90CurrentQuestion');
            resultPage.classList.add('hidden');
            showVerificationModal();
        }

        // è¿”å›é¦–é¡µ
        function backToHome() {
            currentQuestion = 0;
            answers = [];
            localStorage.removeItem('scl90Answers');
            localStorage.removeItem('scl90CurrentQuestion');
            resultPage.classList.add('hidden');
            homePage.classList.remove('hidden');
            homePage.classList.add('fade-in');
        }
        
        // è°ƒè¯•å‡½æ•°
        function debugTest() {
            // åˆ›å»ºæµ‹è¯•æ•°æ®
            answers = [];
            for (let i = 0; i < 90; i++) {
                answers.push(Math.floor(Math.random() * 5) + 1);
            }
            console.log('è°ƒè¯•æ¨¡å¼ï¼šåˆ›å»ºäº†90ä¸ªéšæœºç­”æ¡ˆ');
            console.log('ç­”æ¡ˆæ•°ç»„:', answers);
            showResultPage();
        }
        
        // ç®€åŒ–æµ‹è¯•å‡½æ•°
        function simpleTest() {
            console.log('=== ç®€åŒ–æµ‹è¯•æ¨¡å¼ ===');
            
            // åˆ›å»ºç®€å•çš„æµ‹è¯•æ•°æ®
            answers = new Array(90).fill(2); // å…¨éƒ¨é€‰æ‹©"å¾ˆè½»"
            
            // ç›´æ¥æ˜¾ç¤ºç»“æœé¡µé¢
            homePage.classList.add('hidden');
            testPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            resultPage.classList.add('fade-in');
            
            // ç›´æ¥æ˜¾ç¤ºç»“æœï¼Œè·³è¿‡å¤æ‚è®¡ç®—
            try {
                const totalScore = 180; // 90 * 2
                const positiveItems = 90;
                
                // æ˜¾ç¤ºæ€»åˆ†
                const totalScoreElement = document.querySelector('#totalScore span');
                const positiveItemsElement = document.querySelector('#positiveItems span');
                
                if (totalScoreElement) {
                    totalScoreElement.textContent = totalScore;
                } else {
                    // å°è¯•ç›´æ¥è®¾ç½®æ•´ä¸ªå…ƒç´ çš„å†…å®¹
                    const totalScoreContainer = document.querySelector('#totalScore');
                    if (totalScoreContainer) {
                        totalScoreContainer.innerHTML = `æ€»åˆ†ï¼š<span class="text-gradient">${totalScore}</span>`;
                    }
                }
                
                if (positiveItemsElement) {
                    positiveItemsElement.textContent = positiveItems;
                } else {
                    // å°è¯•ç›´æ¥è®¾ç½®æ•´ä¸ªå…ƒç´ çš„å†…å®¹
                    const positiveItemsContainer = document.querySelector('#positiveItems');
                    if (positiveItemsContainer) {
                        positiveItemsContainer.innerHTML = `é˜³æ€§é¡¹ç›®æ•°ï¼š<span class="text-gradient">${positiveItems}</span>`;
                    }
                }
                
                // æ˜¾ç¤ºç®€åŒ–çš„å› å­åˆ†
                factorScores.innerHTML = '';
                const simpleFactors = [
                    'èº¯ä½“åŒ–', 'å¼ºè¿«ç—‡çŠ¶', 'äººé™…å…³ç³»æ•æ„Ÿ', 'æŠ‘éƒ', 'ç„¦è™‘',
                    'æ•Œå¯¹', 'ææ€–', 'åæ‰§', 'ç²¾ç¥ç—…æ€§', 'å…¶ä»–'
                ];
                
                simpleFactors.forEach(factorName => {
                    const factorDiv = document.createElement('div');
                    factorDiv.className = 'bg-white rounded-lg p-4 card-shadow';
                    factorDiv.innerHTML = `
                        <div class="flex justify-between items-center mb-2">
                            <span class="font-medium text-gray-800">${factorName}</span>
                            <span class="font-semibold" style="color: #F59E0B">2.00åˆ†</span>
                        </div>
                        <div class="bg-gray-200 rounded-full h-2">
                            <div class="h-2 rounded-full transition-all duration-500" style="width: 40%; background-color: #F59E0B"></div>
                        </div>
                    `;
                    factorScores.appendChild(factorDiv);
                });
                
                // æ˜¾ç¤ºå»ºè®®
                adviceText.textContent = 'è¿™æ˜¯ç®€åŒ–æµ‹è¯•æ¨¡å¼çš„ç»“æœã€‚æ‚¨çš„æµ‹è¯•ç»“æœåœ¨æ­£å¸¸èŒƒå›´å†…ã€‚å»ºè®®ä¿æŒè‰¯å¥½çš„å¿ƒç†çŠ¶æ€å’Œç”Ÿæ´»ä¹ æƒ¯ã€‚';
                
                console.log('ç®€åŒ–æµ‹è¯•å®Œæˆ');
                
            } catch (error) {
                console.error('ç®€åŒ–æµ‹è¯•å‡ºé”™:', error);
            }
        }
        
        // å…¨å±€å‡½æ•°
        window.debugTest = debugTest;
        window.simpleTest = simpleTest;
        
        // å…¨å±€è°ƒè¯•å‡½æ•°
        window.debugTest = debugTest;
    </script>
</body>
</html>